# TiddlyWiki MCP Server Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# Required: TiddlyWiki Connection
# =============================================================================

# URL of your TiddlyWiki server
# Examples:
#   - http://localhost:8080 (local TiddlyWiki)
#   - http://wiki.example.com (remote server)
#   - wiki.service.consul (Consul service discovery)
TIDDLYWIKI_URL=http://localhost:8080

# =============================================================================
# Optional: Transport Configuration
# =============================================================================

# Transport mode: "stdio" (default, for local development) or "http" (for deployment)
MCP_TRANSPORT=stdio

# HTTP server port (only used when MCP_TRANSPORT=http)
MCP_PORT=3000

# =============================================================================
# Optional: Authentication
# =============================================================================

# Header name containing the authenticated username
# (can be any header your TiddlyWiki expects, or leave default if not using auth)
AUTH_HEADER=X-Oidc-Username

# Default username for tiddler creation/modification
AUTH_USER=mcp-user

# =============================================================================
# Optional: Embeddings / Semantic Search
# =============================================================================

# Enable semantic search with Ollama embeddings (true by default)
EMBEDDINGS_ENABLED=true

# Ollama API URL
OLLAMA_URL=http://localhost:11434

# Embedding model to use (must support nomic-embed-text task prefixes)
# Run: ollama pull nomic-embed-text
OLLAMA_MODEL=nomic-embed-text

# Path to SQLite database for storing embeddings
EMBEDDINGS_DB_PATH=./embeddings.db
